<div class="game-panel" [class.is-open]="isOpen" *ngIf="game.state">
  <div class="pin-btn flex-center" [class.is-open]="isOpen" (click)="isOpen = !isOpen">
    <span [class.hide]="isOpen"  class="icon-previous2"></span>
    <span [class.hide]="!isOpen" class="icon-next2"></span>
  </div>

  <div class="panel-content">
    <h1>Game</h1>
    <div class="text-right" style="margin-bottom: 20px;">
      <bf-btn bfText="Exit Game" bfIcon="icon-esc" (bfClick)="exitGame()"></bf-btn>
    </div>
    

    <div class="chat-box">
      <h2>Chat</h2>
      <div class="chat-history" id="chatH" #chatHist>
        <div *ngFor="let msg of chatHistory" class="msg-bubble" [class.is-you]="msg.isYou">
          <div class="player-name">{{msg.isYou ? 'You' : playerBName}}:</div>
          <span class="msg-text" [innerHTML]="msg.text"></span>
        </div>
      </div>

      <bf-input class="text-input" bfLabel="New Message:" [(ngModel)]="text" (bfOnEnter)="postChat(text)"></bf-input>
    </div>


  </div>





  <!-- Debug Buttons -->
  <div *ngIf="false" style="position: fixed; top: 5px; left: 10px; background: lightgray; padding: 2px; z-index: 2000; width: 140px; height: 200px;">
    <!-- <bf-btn (bfClick)="growl.success('test test');" bfText="GROWL" class="full-width"></bf-btn> -->
    <bf-btn (bfClick)="game.action('refresh')" bfText="REFRESH" class="full-width"></bf-btn>
    <bf-btn (bfClick)="game.saveStateDebug()" bfText="SAVE STATE" class="full-width" style="margin-top: 5px;"></bf-btn>
    <bf-btn (bfClick)="game.loadStateDebug()" bfText="LOAD STATE" class="full-width" style="margin-top: 5px;"></bf-btn>
    <bf-btn *ngIf="!game.debugMode" (bfClick)="game.debugMode = true" bfText="Debug OFF" class="full-width" style="margin-top: 5px;"></bf-btn>
    <bf-btn *ngIf="game.debugMode" (bfClick)="game.debugMode = false" bfText="Debug ON"  class="full-width" style="margin-top: 5px;"></bf-btn>
    <bf-btn (bfClick)="game.debugPanel = !game.debugPanel"  bfText="Debug Panel" class="full-width" style="margin-top: 5px;"></bf-btn>
  </div>
</div>